{"version":3,"sources":["../../src/util/json.js"],"names":["stringify","obj","b","JSON","getCircularReplacer","seen","WeakSet","count","key","value","has","Object","keys","add"],"mappings":";;;;;;;AAAA;AACA,SAASA,SAAT,CAAmBC,GAAnB,EAAwB;AACtB,QAAMC,CAAC,GAAG,KAAV;;AACA,MAAIA,CAAJ,EAAO;AACL,WAAOC,IAAI,CAACH,SAAL,CAAeC,GAAf,CAAP;AACD;;AACD,QAAMG,mBAAmB,GAAG,MAAM;AAChC,UAAMC,IAAI,GAAG,IAAIC,OAAJ,EAAb;AACA,QAAIC,KAAK,GAAG,CAAZ;AACA,WAAO,CAACC,GAAD,EAAMC,KAAN,KAAgB;AACrB,UAAI,OAAOA,KAAP,KAAiB,QAAjB,IAA6BA,KAAK,KAAK,IAA3C,EAAiD;AAC/C,YAAIJ,IAAI,CAACK,GAAL,CAASD,KAAT,CAAJ,EAAqB;AACnBF,UAAAA,KAAK,IAAI,CAAT;AACA,iBAAQ,YAAWA,KAAM,IAAGI,MAAM,CAACC,IAAP,CAAYH,KAAZ,CAAmB,EAA/C;AACD;;AACDJ,QAAAA,IAAI,CAACQ,GAAL,CAASJ,KAAT;AACD;;AACD,aAAOA,KAAP;AACD,KATD;AAUD,GAbD;;AAcA,SAAON,IAAI,CAACH,SAAL,CAAeC,GAAf,EAAoBG,mBAAmB,EAAvC,CAAP;AACD;;eAEc;AACbJ,EAAAA;AADa,C","sourcesContent":["// handles circular references\nfunction stringify(obj) {\n  const b = false\n  if (b) {\n    return JSON.stringify(obj)\n  }\n  const getCircularReplacer = () => {\n    const seen = new WeakSet()\n    let count = 0\n    return (key, value) => {\n      if (typeof value === 'object' && value !== null) {\n        if (seen.has(value)) {\n          count += 1\n          return `circular#${count}:${Object.keys(value)}`\n        }\n        seen.add(value)\n      }\n      return value\n    }\n  }\n  return JSON.stringify(obj, getCircularReplacer())\n}\n\nexport default {\n  stringify\n}"],"file":"json.js"}