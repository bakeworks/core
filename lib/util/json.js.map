{"version":3,"sources":["../../src/util/json.js"],"names":["stringify","obj","b","JSON","getCircularReplacer","seen","WeakSet","count","key","value","has","Object","keys","add"],"mappings":";;AAAA;AACA,SAASA,SAAT,CAAmBC,GAAnB,EAAwB;AACtB,MAAMC,IAAI,KAAV;AACA,MAAIA,CAAJ,EAAO;AACL,WAAOC,KAAKH,SAAL,CAAeC,GAAf,CAAP;AACD;AACD,MAAMG,sBAAsB,SAAtBA,mBAAsB,GAAM;AAChC,QAAMC,OAAO,IAAIC,OAAJ,EAAb;AACA,QAAIC,QAAQ,CAAZ;AACA,WAAO,UAACC,GAAD,EAAMC,KAAN,EAAgB;AACrB,UAAI,QAAOA,KAAP,yCAAOA,KAAP,OAAiB,QAAjB,IAA6BA,UAAU,IAA3C,EAAiD;AAC/C,YAAIJ,KAAKK,GAAL,CAASD,KAAT,CAAJ,EAAqB;AACnBF,mBAAS,CAAT;AACA,+BAAmBA,KAAnB,SAA4BI,OAAOC,IAAP,CAAYH,KAAZ,CAA5B;AACD;AACDJ,aAAKQ,GAAL,CAASJ,KAAT;AACD;AACD,aAAOA,KAAP;AACD,KATD;AAUD,GAbD;AAcA,SAAON,KAAKH,SAAL,CAAeC,GAAf,EAAoBG,qBAApB,CAAP;AACD;;AAED,eAAe;AACbJ;AADa,CAAf","file":"json.js","sourcesContent":["// handles circular references\nfunction stringify(obj) {\n  const b = false\n  if (b) {\n    return JSON.stringify(obj)\n  }\n  const getCircularReplacer = () => {\n    const seen = new WeakSet()\n    let count = 0\n    return (key, value) => {\n      if (typeof value === 'object' && value !== null) {\n        if (seen.has(value)) {\n          count += 1\n          return `circular#${count}:${Object.keys(value)}`\n        }\n        seen.add(value)\n      }\n      return value\n    }\n  }\n  return JSON.stringify(obj, getCircularReplacer())\n}\n\nexport default {\n  stringify\n}"]}