{"version":3,"sources":["../../src/models/ingredient.js"],"names":[],"mappings":"AAAA","file":"ingredient.js","sourcesContent":["/*\nconst action = require(action.js)\n\nfunction measure_s(ingredient) {\n  '%0.2f' % measure\n}\n\nfunction lead_time_s(ingredient) {\n  lead_time.to_s\n}\n\nfunction label(ingredient) {\n  const product = ingredient.product\n  const label = product.code.length > product.name.size ? product.code : product.name\n  label.length == 0 ? 'missing product code or name' : label\n}\n\n// caller must provide recipe which includes ingredient\nfunction ingredientCost(recipe, ingredient) {\n  if (ingredient.recipe_id !== recipe._id) throw new Error('ingredient does not belong to recipe')\n  const measure_total = recipe.measure_total\n  if (measure_total === 0) {\n    return 0\n  }\n  else {\n    let cost = ingredient.product.cost_per_kg\n    cost *= measure / measure_total\n    if (action.hasItemWeight(ingredient.recipe.product.action)) {\n      cost *= owner.item_weight \n    }\n    return cost\n  }\n}\n\nfunction cost_s(ingredient) {\n  '%0.4f' % cost\n}\n*/"]}